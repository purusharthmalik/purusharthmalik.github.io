<script type="text/javascript" async
  src="https://polyfill.io/v3/polyfill.min.js?features=es6">
</script>
<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js">
</script>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  {%- seo -%}
  <meta name="theme-color" content="#07101a">

  <script>
    (function(){
      try{
        var theme = localStorage.getItem('theme');
        if(!theme){
          // Default to dark mode unless user has an explicit stored preference
          theme = 'dark';
        }
        document.documentElement.setAttribute('data-theme', theme);
        // Update meta theme-color immediately to match chosen theme
        var meta = document.querySelector('meta[name="theme-color"]');
        if(meta){
          meta.setAttribute('content', theme === 'dark' ? '#07101a' : '#ffffff');
        }
      }catch(e){}
    })();
  </script>

  <link rel="stylesheet" href="{{ "/assets/main.css" | relative_url }}">
  <link rel="stylesheet" href="{{ "/assets/css/site-theme.css" | relative_url }}">
  <script src="{{ "/assets/js/dark-toggle.js" | relative_url }}" defer></script>
  <script src="{{ "/assets/js/toc.js" | relative_url }}" defer></script>
  {%- feed_meta -%}
  {%- if jekyll.environment == 'production' and site.google_analytics -%}
    {%- include google-analytics.html -%}
  {%- endif -%}
</head>
